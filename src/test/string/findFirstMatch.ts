// function findFirstSubstring(target: string, substrings: Array<string>) {
//   const combinedRegex = new RegExp(substrings.join('|'), 'g');
//   const matches = Array.from(target.matchAll(combinedRegex));

//   if (matches.length > 0) {
//     const firstMatch = matches[0];
//     return { index: firstMatch.index, substring: firstMatch[0] };
//   } else {
//     return null;
//   }
// }

function findFirstSubstring(target, substrings) {
  let firstMatch = null;

  for (const substring of substrings) {
    const index = target.indexOf(substring);
    if (index !== -1 && (firstMatch === null || index < firstMatch.index)) {
      firstMatch = { index, substring };
    }
  }

  return firstMatch;
}

const targetString = 'This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string2 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.This is a sample1 string1 containing multiple1 words.';
const substrings = ['multiple2', 'apple2', 'sample2', 'string2'];

const result = findFirstSubstring(targetString, substrings);

console.time('findFirstSubstring');
if (result) {
  console.log(`The first matching substring is "${result.substring}" at index ${result.index}.`);
} else {
  console.log('No matching substring found.');
}
console.timeEnd('findFirstSubstring');
